{% extends 'base.html' %}
{% load static %}

{% block title %}Profil sahifasi{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/profil_view.css' %}">

<div class="container mt-5">
  <div class="card profile-card shadow-lg border-0">
    <div class="row g-0">
      <!-- Chap tomon: rasm va username -->
      <div class="col-md-4 text-center p-4 bg-light rounded-start">
        {% if profile_user.profile_picture %}
          <img src="{{ profile_user.profile_picture.url }}"
               class="img-fluid rounded-circle profile-img"
               alt="Profil rasmi">
        {% else %}
          <img src="{% static 'img/default-profile.png' %}"
               class="img-fluid rounded-circle profile-img"
               alt="Default profil rasmi">
        {% endif %}
        <h4 class="mt-3">{{ profile_user.username }}</h4>
      </div>

      <!-- O‚Äòng tomon: foydalanuvchi ma‚Äôlumotlari -->
      <div class="col-md-8 p-4">
        <h3 class="mb-3 text-primary">üë§ Foydalanuvchi ma‚Äôlumotlari</h3>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <strong>Email:</strong> {{ profile_user.email }}
          </li>
          {% if profile_user.first_name %}
            <li class="list-group-item">
              <strong>Ismi:</strong> {{ profile_user.first_name }}
            </li>
          {% endif %}
          {% if profile_user.last_name %}
            <li class="list-group-item">
              <strong>Familiyasi:</strong> {{ profile_user.last_name }}
            </li>
          {% endif %}
          {% if profile_user.age %}
            <li class="list-group-item">
              <strong>Yoshi:</strong> {{ profile_user.age }}
            </li>
          {% endif %}
          {% if profile_user.location %}
            <li class="list-group-item">
              <strong>Manzili:</strong> {{ profile_user.location }}
            </li>
          {% endif %}
        </ul>

        <div class="mt-4 d-flex flex-wrap gap-2">
          {% if request.user.pk == profile_user.pk %}
            <a href="{% url 'profil_edit' %}" class="btn btn-primary">
              üñãÔ∏è Profilni tahrirlash
            </a>
          {% endif %}
          <a href="{% url 'my_posts' %}" class="btn btn-secondary">
            üìö Postlarim
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
